<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
    <form action="#" th:action="@{/}" th:object="${user}" method="post">
        <table>
            <tr>
                <td>Byname:</td>
                <td><input type="text" th:field="*{byname}" /></td>
                <td th:if="${#fields.hasErrors('byname')}" th:errors="*{byname}">Byname Error</td>
            </tr>
            <tr>
                <td>Email:</td>
                <td><input type="email" th:field="*{email}" /></td>
                <td th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</td>
            </tr>
            <tr>
                <td>Password:</td>
                <td><input type="password" th:field="*{password}" /></td>
                <td th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</td>
            </tr>
            <tr>
                <td><button type="submit">Submit</button></td>
            </tr>
        </table>
    </form>

    <div style="width: 100%;height: 300px;;" id="screen">

    </div>

<script>

    function desenhaRetangulo(altura, largura, cor, texto, elementIndex) {
        var screen = document.getElementById("screen");

        var row = document.createElement("div");
        var text = document.createElement("span");
        var rectangle = document.createElement("div");

        text.innerHTML = texto;

        rectangle.innerText = "";
        rectangle.style = `background-color: ${cor};color: ${cor};width: ${largura}px; height: ${altura}px;margin:10px;border-radius:1em;`
        
        screen.appendChild(rectangle);
    }

    function desenhaBarras(x, y, series, cores, texto) {
        var somaValores = 0;
        series.forEach(element => {
            somaValores += element;
        });

        for (var t = 0; t < series.length; t++) {
            var alturas = ((series[t] / somaValores) * 100) * 10;
            desenhaRetangulo(10, alturas, cores[t], texto[t]);
        }
    }

    var cores = ['green','green','green', 'yellow', 'yellow'];
    var serie2015 = [302, 1267, 654, 123, 32];

    desenhaBarras(50, 50, serie2015, cores, ['5','4','3','2','1']);
</script>
</body>
</html>